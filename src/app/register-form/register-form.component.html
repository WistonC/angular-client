<div class="container">
  <h1>{{ 'USER_FORM.TITLE' | translate }}</h1>

  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <!-- First Name -->
    <div class="form-group">
      <label for="firstName">{{ 'USER_FORM.FIRST_NAME' | translate }}</label>
      <input type="text"
             id="firstName"
             class="form-control"
             formControlName="firstName"
             [placeholder]="'USER_FORM.FIRST_NAME_PLACEHOLDER' | translate"
             required/>
      <div class="alert alert-danger" *ngIf="firstName?.invalid && (firstName?.dirty || !firstName?.untouched)">
        <div *ngIf="firstName?.errors?.['required']">{{ 'USER_FORM.FIRST_NAME_REQUIRED' | translate }}</div>
      </div>
    </div>

    <!-- Last Name -->
    <div class="form-group">
      <label for="lastName">{{ 'USER_FORM.LAST_NAME' | translate }}</label>
      <input type="text"
             id="lastName"
             class="form-control"
             formControlName="lastName"
             [placeholder]="'USER_FORM.LAST_NAME_PLACEHOLDER' | translate"
             required/>
      <div *ngIf="lastName?.invalid && (lastName?.dirty || !lastName?.untouched)"
           class="alert alert-danger">
        <div *ngIf="lastName?.errors?.['required']">{{ 'USER_FORM.LAST_NAME_REQUIRED' | translate }}</div>
      </div>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label for="email">{{ 'USER_FORM.EMAIL' | translate }}</label>
      <input type="email"
             id="email"
             class="form-control"
             formControlName="email"
             [placeholder]="'USER_FORM.EMAIL_PLACEHOLDER' | translate"
             required/>
      <div *ngIf="email?.invalid && (email?.dirty || !email?.untouched)"
           class="alert alert-danger">
        <div *ngIf="email?.errors?.['required']">{{ 'USER_FORM.EMAIL_REQUIRED' | translate }}</div>
        <div *ngIf="email?.invalid">{{ 'USER_FORM.EMAIL_INVALID' | translate }}</div>
      </div>
    </div>

    <!-- Address Form (assumes it's already translated) -->
    <app-address-form [parentForm]="userForm" [cities]="cities" (addressFormReady)="onAddressFormReady($event)"></app-address-form>

    <!-- Submit and Reset Buttons -->
    <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">{{ 'USER_FORM.SUBMIT' | translate }}</button>
    <button type="button" class="btn btn-default" (click)="userForm.reset()">{{ 'USER_FORM.RESET' | translate }}</button>
  </form>
  <!-- Language Switcher -->
  <button (click)="setLanguage('en')" class="btn btn-default">English</button>
  <button (click)="setLanguage('fr')" class="btn btn-default">Fran√ßais</button>
</div>
